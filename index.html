<!DOCTYPE html>
<html data-bs-theme="light" lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
  <title>Ghada Tourism</title>
    <base target="_top" />
    <? var appUrl = getUrl(); var url = appUrl; ?>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary-color: #008891;
      --primary-dark: #006d75;
      --primary-light: #00a0a9;
      --secondary-color: #ffb3d1;
      --accent-color: #ff69b4;
      --text-dark: #2c3f3f;
      --text-light: #6c757d;
      --bg-light: #f8f9fa;
      --shadow-light: 0 2px 10px rgba(0, 0, 0, 0.1);
      --shadow-medium: 0 4px 15px rgba(0, 0, 0, 0.15);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --nav-primary: #008891;
      --nav-primary-dark: #006d75;
      --nav-accent: rgba(255, 255, 255, 0.18);
      --nav-shadow: 0 25px 45px rgba(0, 0, 0, 0.18);
      --nav-highlight: #fef6f0;
    }

    * {
      font-family: 'Cairo', sans-serif;
    }

    body {
      background: #f8f9fa;
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }

    .ghada-hero {
      position: relative;
      width: 100%;
      background: linear-gradient(135deg, var(--nav-primary), var(--nav-primary-dark));
      color: #fff;
      padding: 32px clamp(16px, 6vw, 80px) 28px;
      overflow: hidden;
      box-shadow: var(--nav-shadow);
      border-bottom-left-radius: 32px;
      border-bottom-right-radius: 32px;
    }

    .ghada-hero::before,
    .ghada-hero::after {
      content: '';
      position: absolute;
      border-radius: 50%;
      background: #fff;
      opacity: 0.12;
      filter: blur(0.5px);
      pointer-events: none;
    }

    .ghada-hero::before {
      width: 320px;
      height: 320px;
      top: -160px;
      left: -60px;
    }

    .ghada-hero::after {
      width: 220px;
      height: 220px;
      bottom: -120px;
      right: -30px;
    }

    .ghada-hero-content {
      position: relative;
      z-index: 1;
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      align-items: center;
      justify-content: space-between;
    }

    .ghada-hero-emoji {
      font-size: 2.5rem;
      background: rgba(255, 255, 255, 0.16);
      border-radius: 24px;
      padding: 14px 20px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
    }

    .ghada-hero-text {
      max-width: 640px;
      color: #fff;
    }

    .ghada-hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.25);
      border-radius: 999px;
      padding: 6px 16px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .ghada-hero-title {
      margin: 0;
      font-size: clamp(1.6rem, 3vw, 2.4rem);
      font-weight: 800;
      letter-spacing: -0.5px;
    }

    .ghada-hero-subtitle {
      margin: 8px 0 0;
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.85);
      line-height: 1.6;
    }

    .ghada-nav {
      position: relative;
      z-index: 1;
      margin-top: 26px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
      background: rgba(255, 255, 255, 0.12);
      border-radius: 20px;
      padding: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(16px);
    }

    .ghada-nav-item {
      border: none;
      background: rgba(255, 255, 255, 0.18);
      color: #fff;
      padding: 12px 18px;
      border-radius: 16px;
      min-width: 140px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      font-weight: 600;
      transition: transform 0.2s ease, background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
    }

    .ghada-nav-item .emoji {
      font-size: 1.6rem;
      line-height: 1;
    }

    .ghada-nav-item .label {
      font-size: 0.95rem;
    }

    .ghada-nav-item:hover {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, 0.3);
    }

    .ghada-nav-item.active {
      background: #fff;
      color: var(--nav-primary);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
    }

    .ghada-nav-item:focus-visible {
      outline: 2px solid #fff;
      outline-offset: 3px;
    }

    @media (max-width: 768px) {
      .ghada-hero {
        border-bottom-left-radius: 24px;
        border-bottom-right-radius: 24px;
        padding: 28px 16px 20px;
      }

      .ghada-hero-content {
        flex-direction: column;
        align-items: flex-start;
      }

      .ghada-nav-item {
        flex: 1 1 calc(50% - 8px);
        min-width: 120px;
      }
    }

    @media (max-width: 480px) {
      .ghada-nav-item {
        flex: 1 1 100%;
        align-items: flex-start;
      }
    }

    /* ========== ØªØµÙ…ÙŠÙ… Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ ========== */
    .navbar {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%) !important;
      box-shadow: var(--shadow-medium);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .navbar-brand {
      font-size: 1.5rem;
      font-weight: 700;
      color: white !important;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: var(--transition);
    }

    .navbar-brand:hover {
      transform: scale(1.05);
    }

    .navbar-brand img {
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      transition: var(--transition);
    }

    .navbar-brand:hover img {
      transform: rotate(5deg);
    }

    .navbar-nav .nav-link {
      color: rgba(255, 255, 255, 0.9) !important;
      font-weight: 500;
      font-size: 1rem;
      padding: 12px 20px !important;
      margin: 0 5px;
      border-radius: 25px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .navbar-nav .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .navbar-nav .nav-link:hover::before {
      left: 100%;
    }

    .navbar-nav .nav-link:hover,
    .navbar-nav .nav-link.active {
      color: white !important;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(5px);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    /* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
    .dropdown-menu {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 15px;
      box-shadow: var(--shadow-medium);
      margin-top: 10px;
      overflow: hidden;
      animation: dropdownSlide 0.3s ease-out;
    }

    @keyframes dropdownSlide {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .dropdown-item {
      color: var(--text-dark);
      font-weight: 500;
      padding: 12px 20px;
      transition: var(--transition);
      border-radius: 8px;
      margin: 2px 5px;
    }

    .dropdown-item:hover {
      background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
      color: white !important;
      transform: translateX(5px);
    }

    .navbar-toggler {
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      padding: 8px 12px;
      transition: var(--transition);
    }

    .navbar-toggler:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .navbar-toggler-icon {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }

    .form-control, .form-select {
      text-align: right;
    }
    
    .btn {
      font-family: "Cairo", sans-serif;
    }
    
    p {
      font-family: "Cairo", sans-serif;
      font-size: 18px;
      color: rgb(44 63 63);
    }
    
    .navbar-nav {
      padding-right: 0;
    }
    
    .offset-md-1 {
      margin-right: 8.33333%;
      margin-left: 0;
    }
    
    /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
    #hotelDropdownContainer {
      position: relative;
    }
    
    #hotelSearchInput {
      border-radius: 0.375rem;
    }
    
    .dropdown-item {
      cursor: pointer;
      text-align: right;
    }
    
    .dropdown-item:hover, .dropdown-item:focus {
      background-color: #f8f9fa;
    }
    
    .dropdown-menu {
      padding: 0;
    }
    
    .dropdown-items-container .dropdown-item.active {
      background-color: #0d6efd;
      color: white;
    }
    
    /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø£Ø·Ø± */
    .border.rounded {
      border-color: #dee2e6 !important;
    }
    
    .form-check {
      margin-bottom: 0.5rem;
    }
    
    .form-check-input {
      margin-left: 0.5rem;
    }
    
    /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù†Øµ Ø§Ù„ÙŠÙˆØ±Ùˆ */
    .input-group-text {
      background-color: #f8f9fa;
      border: 1px solid #ced4da;
      font-size: 12px;
      color: #6c757d;
    }
    
    /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ØµÙÙˆÙ Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© */
    .three-col-row {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 1rem;
    }
    
    .three-col-row > div {
      flex: 1;
      min-width: 200px;
    }
    
    .checkbox-container {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    .checkbox-container input[type="checkbox"] {
      width: 20px;
      height: 20px;
      margin-left: 10px;
    }
    
    .checkbox-container label {
      margin-bottom: 0;
    }
    
    /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
    .button-row {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
    }
    
    .button-row .btn {
      flex: 1;
      max-width: 200px;
    }
    
    /* Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù… */
    #oanda_ecc {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 1000;
    }
    
    #floatingButtonContainer {
      position: relative;
    }
    
    #toggleWidgetButton {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: #007bff;
      color: white;
      border: none;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      transition: transform 0.2s, background-color 0.2s;
    }
    
    #toggleWidgetButton:hover {
      transform: scale(1.1);
      background-color: #0056b3;
    }
    
    #floatingWidgetPanel {
      position: absolute;
      bottom: 60px;
      left: 0;
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border: 1px solid #ddd;
      display: none;
      width: 300px;
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
    .loading-spinner {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 9999;
      background: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    
    .loading-spinner.active {
      display: block;
    }
    
    .spinner-border {
      width: 3rem;
      height: 3rem;
      border-width: 0.3em;
    }
    
    .form-control:invalid, .form-select:invalid {
      border-color: #dc3545;
    }
    
    .form-control:valid, .form-select:valid {
      border-color: #28a745;
    }
    
    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¨Ø­Ø« */
    .hotel-loading {
      text-align: center;
      padding: 10px;
      color: #6c757d;
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„ØªÙˆØ§Ø±ÙŠØ® */
    .date-error {
      border-color: #dc3545 !important;
    }
    
    .error-message {
      color: #dc3545;
      font-size: 0.875rem;
      margin-top: 0.25rem;
      display: none;
    }
    
    .error-message.show {
      display: block;
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„ØªØ­Ù…ÙŠÙ„ */
    select[disabled] {
      background-color: #e9ecef;
      cursor: not-allowed;
    }
    
    /* ========== ØªØµÙ…ÙŠÙ… Ù‡Ø¯ÙŠØ© Ø§Ù„ÙˆØ±ÙˆØ¯ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ ========== */
    .flower-gift-card {
      position: relative;
      background: linear-gradient(135deg, #fff5f5 0%, #ffe5e8 50%, #fff0f5 100%);
      border: 2px solid #ffb3d1;
      border-radius: 20px;
      padding: 25px 30px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(255, 182, 193, 0.2);
    }
    
    .flower-gift-card::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 182, 193, 0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    
    .flower-gift-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 8px 25px rgba(255, 105, 180, 0.3);
      border-color: #ff69b4;
    }
    
    .flower-gift-card:hover::before {
      opacity: 1;
    }
    
    .flower-gift-card.active {
      background: linear-gradient(135deg, #ffe5e8 0%, #ffb3d1 50%, #ff91c4 100%);
      border-color: #ff1493;
      box-shadow: 0 8px 30px rgba(255, 20, 147, 0.4);
      animation: flowerPulse 2s ease-in-out infinite;
    }
    
    @keyframes flowerPulse {
      0%, 100% {
        box-shadow: 0 8px 30px rgba(255, 20, 147, 0.4);
      }
      50% {
        box-shadow: 0 8px 40px rgba(255, 20, 147, 0.6);
      }
    }
    
    .flower-gift-content {
      display: flex;
      align-items: center;
      gap: 20px;
      position: relative;
      z-index: 2;
    }
    
    .flower-icon-wrapper {
      flex-shrink: 0;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 15px rgba(255, 20, 147, 0.3);
      transition: all 0.4s ease;
      animation: flowerRotate 3s ease-in-out infinite;
    }
    
    @keyframes flowerRotate {
      0%, 100% {
        transform: rotate(0deg) scale(1);
      }
      25% {
        transform: rotate(-5deg) scale(1.05);
      }
      75% {
        transform: rotate(5deg) scale(1.05);
      }
    }
    
    .flower-gift-card.active .flower-icon-wrapper {
      animation: flowerRotate 1s ease-in-out infinite, flowerBounce 0.6s ease;
      box-shadow: 0 6px 20px rgba(255, 20, 147, 0.5);
    }
    
    @keyframes flowerBounce {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.2);
      }
    }
    
    .flower-icon {
      width: 35px;
      height: 35px;
      color: white;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
    }
    
    .flower-gift-text {
      flex: 1;
    }
    
    .flower-label {
      display: flex;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
      user-select: none;
    }
    
    .flower-checkbox {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .flower-checkmark {
      position: absolute;
      top: 0;
      right: 0;
      width: 28px;
      height: 28px;
      border: 3px solid #ff69b4;
      border-radius: 8px;
      background: white;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .flower-label {
      position: relative;
      padding-right: 40px;
    }
    
    .flower-checkbox:checked ~ .flower-checkmark {
      background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
      border-color: #ff1493;
      transform: scale(1.1);
    }
    
    .flower-checkbox:checked ~ .flower-checkmark::after {
      content: 'âœ“';
      color: white;
      font-size: 18px;
      font-weight: bold;
      animation: checkmarkAppear 0.3s ease;
    }
    
    @keyframes checkmarkAppear {
      0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
      }
      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }
    
    .flower-title {
      font-size: 22px;
      font-weight: bold;
      color: #d63384;
      transition: all 0.3s ease;
      font-family: "Cairo", sans-serif;
    }
    
    .flower-gift-card:hover .flower-title {
      color: #ff1493;
    }
    
    .flower-gift-card.active .flower-title {
      color: #fff;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    .flower-subtitle {
      font-size: 14px;
      color: #999;
      transition: all 0.3s ease;
      font-family: "Cairo", sans-serif;
    }
    
    .flower-gift-card.active .flower-subtitle {
      color: rgba(255, 255, 255, 0.9);
    }
    
    .flower-particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      border-radius: 20px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .flower-gift-card.active .flower-particles {
      opacity: 1;
    }
    
    .particle {
      position: absolute;
      width: 8px;
      height: 8px;
      background: radial-gradient(circle, #ff69b4 0%, transparent 70%);
      border-radius: 50%;
      animation: particleFloat 3s ease-in-out infinite;
    }
    
    @keyframes particleFloat {
      0% {
        transform: translateY(100%) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100%) translateX(20px) rotate(360deg);
        opacity: 0;
      }
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 768px) {
      .flower-gift-card {
        padding: 20px;
      }
      
      .flower-icon-wrapper {
        width: 50px;
        height: 50px;
      }
      
      .flower-icon {
        width: 28px;
        height: 28px;
      }
      
      .flower-title {
        font-size: 18px;
      }
      
      .flower-subtitle {
        font-size: 12px;
      }
    }
  </style>
<base target="_blank">
</head>

  <body dir="rtl" data-page="index">
    <? var headerAppUrl = typeof appUrl !== 'undefined' ? appUrl : getUrl(); ?>
    <header class="ghada-hero" dir="rtl">
      <div class="ghada-hero-content">
        <span class="ghada-hero-emoji" aria-hidden="true">ğŸŒ´</span>
        <div class="ghada-hero-text">
          <span class="ghada-hero-badge">âœ¨ Ù…Ù†ØµØ© ØºØ§Ø¯Ø© Ù„Ù„Ø³ÙŠØ§Ø­Ø©</span>
          <h1 class="ghada-hero-title">Ø£Ø¶Ù Ø­Ø¬ÙˆØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø«Ù‚Ø© ÙˆØ³Ù„Ø§Ø³Ø©</h1>
          <p class="ghada-hero-subtitle">
            ØªÙ†Ø³ÙŠÙ‚ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„ÙÙ†Ø§Ø¯Ù‚ ÙˆØ§Ù„Ø±Ø­Ù„Ø§Øª ÙŠØ¨Ø¯Ø£ Ù…Ù† Ù‡Ù†Ø§ Ù…Ø¹ Ø´Ø±ÙŠØ· ØªÙ†Ù‚Ù„ Ø«Ø§Ø¨Øª Ù„ÙƒÙ„ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„.
          </p>
        </div>
      </div>
      <nav class="ghada-nav" id="ghada-nav-bar" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©">
        <button class="ghada-nav-item" data-page="index" type="button">
          <span class="emoji" aria-hidden="true">ğŸ“</span>
          <span class="label">Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø²</span>
        </button>
        <button class="ghada-nav-item" data-page="Add-client" type="button">
          <span class="emoji" aria-hidden="true">ğŸ‘¤</span>
          <span class="label">Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</span>
        </button>
        <button class="ghada-nav-item" data-page="add-tour" type="button">
          <span class="emoji" aria-hidden="true">ğŸ§­</span>
          <span class="label">Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø©</span>
        </button>
        <button class="ghada-nav-item" data-page="add-hotel" type="button">
          <span class="emoji" aria-hidden="true">ğŸ¨</span>
          <span class="label">Ø¥Ø¶Ø§ÙØ© ÙÙ†Ø¯Ù‚</span>
        </button>
        <button class="ghada-nav-item" data-page="manage-reservations" type="button">
          <span class="emoji" aria-hidden="true">ğŸ“‚</span>
          <span class="label">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</span>
        </button>
      </nav>
    </header>
    <script>
      (function () {
        const navBar = document.getElementById('ghada-nav-bar');
        if (!navBar) {
          return;
        }
        const rawBaseUrl = '<?= headerAppUrl ?>';
        const baseUrl = rawBaseUrl && rawBaseUrl !== 'undefined'
          ? rawBaseUrl
          : (function () {
              try {
                return window.top.location.href.split('?')[0];
              } catch (error) {
                return '';
              }
            })();
        const currentPage = document.body.dataset.page || 'index';
        navBar.querySelectorAll('.ghada-nav-item').forEach((button) => {
          const targetPage = button.dataset.page;
          if (targetPage === currentPage) {
            button.classList.add('active');
            button.setAttribute('aria-current', 'page');
          }
          button.addEventListener('click', () => {
            if (!targetPage || !baseUrl || targetPage === currentPage) {
              return;
            }
            const targetUrl = targetPage === 'index'
              ? baseUrl
              : `${baseUrl}?page=${targetPage}`;
            window.top.location.href = targetUrl;
          });
        });
      })();
    </script>

  <div class="container-lg px-0" id="content">
    <div>
      <form id="registration-form">
        <div class="form-group mb-3 bg-white">
          <div id="formdiv" class="mx-0">
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø§Ø¦Ø¹ -->
            <div class="row pt-4">
              <div class="col-md-12">
                <h1 class="text-center fw-bold" style="color: rgb(0, 136, 145); font-size: 20px; line-height: 50px;">
                  <strong><span style="background-color: rgb(255, 255, 255)">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø§Ø¦Ø¹</span></strong>
                </h1>
              </div>
            </div>

            <div class="row mx-0 px-2 py-3">
              <div class="col-12 col-md-9 mb-3 mx-auto">
                <div class="row">
                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¦Ø¹</strong></p>
                        <select class="form-select" name="seller" id="sellerSelect" required></select>
                    </div>
                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø§Ù„Ù…ÙˆØ±Ø¯</strong></p>
                        <select class="form-select" name="supplier" id="supplierSelect" required></select>
                    </div>
                  
                </div>
              </div>
            </div>
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
            <div class="row pt-4">
              <div class="col-md-12">
                <h1 class="text-center fw-bold" style="color: rgb(0, 136, 145); font-size: 20px; line-height: 50px;">
                  <strong><span>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</span></strong>
                </h1>
              </div>
            </div>

            <div class="row mx-0 px-2 py-3">
              <div class="col-12 col-md-9 mx-auto">
                <div class="row">
                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</strong></p>
                        <input class="form-control mb-4" type="text" name="name" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" />
                    </div>
                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</strong></p>
                        <input class="form-control mb-4" type="text" name="phone" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"   />
                    </div>
                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</strong></p>
                        <select class="form-select mb-4" name="nationality" id="nationalitySelect" required></select>
                    </div>
                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ</strong></p>
                        <select class="form-select mb-4" name="personCount" id="personSelect" required></select>
                    </div>
                </div>


            
              </div>
            </div>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙÙ†Ø¯Ù‚ -->
            <div class="row pt-4">
              <div class="col-md-12">
                <h1 class="text-center fw-bold" style="color: rgb(0, 136, 145); font-size: 20px; line-height: 50px;">
                  <strong><span>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙÙ†Ø¯Ù‚</span></strong>
                </h1>
              </div>
            </div>

            <div class="row mx-0 px-2 py-3">
              <div class="col-12 col-md-9 mx-auto gy-3">
                <div class="row">
                    <div class="col-md-4">
                        <p class="mb-2"><strong>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</strong></p>
                        <select class="form-select mb-4" name="city" id="citySelect" onchange="onCityChange()" required></select>

                    </div>
                    <div class="col-md-4">
                        <p class="mb-2"><strong>Ø§Ù„ÙÙ†Ø¯Ù‚</strong></p>
                        <div class="dropdown mb-4" id="hotelDropdownContainer">
                          <select class="form-select" name="hotel" id="hotelSelect" required style="display: none;"></select>
                          <button class="form-select text-start" type="button" id="hotelDropdownButton" data-bs-toggle="dropdown" aria-expanded="false">
                            <span id="hotelSelectedText">Ø§Ø®ØªØ± ÙÙ†Ø¯Ù‚</span>
                          </button>
                          <div class="dropdown-menu w-100" aria-labelledby="hotelDropdownButton" id="hotelDropdownMenu">
                            <div class="px-3 py-2 border-bottom">
                              <input type="text" class="form-control" id="hotelSearchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙÙ†Ø¯Ù‚..." autocomplete="off">
                            </div>
                            <div class="dropdown-items-container" id="hotelDropdownItems" style="max-height: 200px; overflow-y: auto;">
                              <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù‡Ù†Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
                            </div>
                          </div>
                        </div>

                    </div>
                    <div class="col-md-4">

                        <p class="mb-2"><strong>Ø§ÙŠØ¯ÙŠ ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø² Ø§Ù„ÙÙ†Ø¯Ù‚</strong></p>
                        <input class="form-control mb-4" name="HotelConformation" type="text" required placeholder="Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²" inputmode="decimal"/>

                    </div>
                    
                </div>



                <!-- ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ ÙˆØ§Ù„Ù…ØºØ§Ø¯Ø±Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ØµÙ -->
                <div class="row">
                  <div class="col-md-6">
                    <p class="mb-2"><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„</strong></p>
                    <input class="form-control mb-4" type="date" name="chekInDate" id="chekInDate" required />
                    <div class="error-message" id="checkInDateError"></div>
                  </div>
                  <div class="col-md-6">
                    <p class="mb-2"><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©</strong></p>
                    <input class="form-control mb-4" type="date" name="chekOutDate" id="chekOutDate" required />
                    <div class="error-message" id="checkOutDateError"></div>
                  </div>
                </div>

                <div class="row">
                    <div class="col-md-3">
                        <p class="mb-2"><strong>Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù</strong></p>
                        <select class="form-select mb-4" name="roomCount" id="numberSelect" required>
                          <option value="1" selected>1</option>
                        </select>
                  
                    </div>
                    <div class="col-md-3">
                 
                        <p class="mb-2"><strong>Ù†ÙˆØ¹ Ø§Ù„ØºØ±ÙØ©</strong></p>
                        <select class="form-select mb-4" name="roomType" id="roomSelect" required></select>
                    </div>
                    <div class="col-md-3">

                        
                        
                        
                        <p class="mb-2"><strong>Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø·Ù„Ø§Ù„Ø©</strong></p>
                        <select class="form-select mb-4" name="viewType" id="viewSelect" required></select>
                       
                    </div>
                    <div class="col-md-3">

                        <p class="mb-2"><strong>Ø§Ù„ÙˆØ¬Ø¨Ø§Øª</strong></p>
                        <select class="form-select mb-4" name="meal" id="mealSelect" required></select>
                       
                    </div>
                    
                </div>

              </div>
            </div>

            <!-- Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© -->
            <div class="row pt-4">
              <div class="col-md-12">
                <h1 class="text-center fw-bold" style="color: rgb(0, 136, 145); font-size: 20px; line-height: 50px;">
                  <strong><span>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©</span></strong>
                </h1>
              </div>
            </div>

            <div class="row mx-0 px-2 py-3">
              <div class="col-12 col-md-9 mx-auto">
                <!-- Ø³Ø¹Ø± Ø§Ù„ÙÙ†Ø¯Ù‚ Ù…Ø¹ Ø¥Ø·Ø§Ø± -->
                <div class="border rounded p-3 mb-4 bg-light">
                  <p class="mb-2"><strong>Ø³Ø¹Ø± Ø§Ù„ÙÙ†Ø¯Ù‚</strong></p>
                  <div class="row align-items-center">
                    <div class="col-md-8">
                      <input class="form-control mb-3 price-input" name="hotelPrice" type="text" required placeholder="Ø³Ø¹Ø± Ø§Ù„ÙÙ†Ø¯Ù‚" inputmode="decimal" value="0" />
                      <div class="input-group">
                        <span class="input-group-text" style="font-size: 12px; min-width: 100px;">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨Ø§Ù„ÙŠÙˆØ±Ùˆ</span>
                        <input class="form-control euro-input" name="hotelEuroPrice" type="text" required inputmode="decimal" value="0" />
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="d-flex flex-wrap gap-2">
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="hotelCurrency" id="hotelCurrencySAR" value="SAR" checked>
                          <label class="form-check-label" for="hotelCurrencySAR">SAR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="hotelCurrency" id="hotelCurrencyEUR" value="EUR">
                          <label class="form-check-label" for="hotelCurrencyEUR">EUR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="hotelCurrency" id="hotelCurrencyUSD" value="USD">
                          <label class="form-check-label" for="hotelCurrencyUSD">USD</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="hotelCurrency" id="hotelCurrencyTRY" value="TRY">
                          <label class="form-check-label" for="hotelCurrencyTRY">TRY</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ Ù…Ø¹ Ø¥Ø·Ø§Ø± -->
                <div class="border rounded p-3 mb-4 bg-light">
                  <p class="mb-2"><strong>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</strong></p>
                  <div class="row align-items-center">
                    <div class="col-md-8">
                      <input class="form-control mb-3 price-input" name="sellingPrice" type="text" required placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹" inputmode="decimal" value="0" />
                      <div class="input-group">
                        <span class="input-group-text" style="font-size: 12px; min-width: 100px;">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨Ø§Ù„ÙŠÙˆØ±Ùˆ</span>
                        <input class="form-control euro-input" name="sellingEuroPrice" type="text" required inputmode="decimal" value="0" />
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="d-flex flex-wrap gap-2">
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="sellingCurrency" id="sellingCurrencySAR" value="SAR" checked>
                          <label class="form-check-label" for="sellingCurrencySAR">SAR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="sellingCurrency" id="sellingCurrencyEUR" value="EUR">
                          <label class="form-check-label" for="sellingCurrencyEUR">EUR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="sellingCurrency" id="sellingCurrencyUSD" value="USD">
                          <label class="form-check-label" for="sellingCurrencyUSD">USD</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="sellingCurrency" id="sellingCurrencyTRY" value="TRY">
                          <label class="form-check-label" for="sellingCurrencyTRY">TRY</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ† Ù…Ø¹ Ø¥Ø·Ø§Ø± -->
                <div class="border rounded p-3 mb-4 bg-light">
                  <p class="mb-2"><strong>Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†</strong></p>
                  <div class="row align-items-center">
                    <div class="col-md-8">
                      <input class="form-control mb-3 price-input" name="amountSent" required type="text" placeholder="Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†" inputmode="decimal" value="0" />
                      <div class="input-group">
                        <span class="input-group-text" style="font-size: 12px; min-width: 100px;">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨Ø§Ù„ÙŠÙˆØ±Ùˆ</span>
                        <input class="form-control euro-input" name="amountEuroSent" required type="text" inputmode="decimal" value="0" />
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="d-flex flex-wrap gap-2">
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountSentCurrency" id="amountSentCurrencySAR" value="SAR" checked>
                          <label class="form-check-label" for="amountSentCurrencySAR">SAR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountSentCurrency" id="amountSentCurrencyEUR" value="EUR">
                          <label class="form-check-label" for="amountSentCurrencyEUR">EUR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountSentCurrency" id="amountSentCurrencyUSD" value="USD">
                          <label class="form-check-label" for="amountSentCurrencyUSD">USD</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountSentCurrency" id="amountSentCurrencyTRY" value="TRY">
                          <label class="form-check-label" for="amountSentCurrencyTRY">TRY</label>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Ø·Ø±ÙŠÙ‚Ø© Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ† Ø¯Ø§Ø®Ù„ Ø¥Ø·Ø§Ø± Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ† -->
                  <div class="mt-3">
                    <p class="mb-2"><strong>Ø·Ø±ÙŠÙ‚Ø© Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†</strong></p>
                    <select class="form-select" name="ra3bon" id="ra3bonSelect" required></select>
                  </div>
                </div>

                <!-- ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹ Ø¥Ø·Ø§Ø± -->
                <div class="border rounded p-3 mb-4 bg-light">
                  <p class="mb-2"><strong>ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</strong></p>
                  <div class="row align-items-center">
                    <div class="col-md-8">
                      <input class="form-control mb-3 price-input" name="arrivedAmount" type="text" placeholder="ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„" inputmode="decimal" value="0" />
                      <div class="input-group">
                        <span class="input-group-text" style="font-size: 12px; min-width: 100px;">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨Ø§Ù„ÙŠÙˆØ±Ùˆ</span>
                        <input class="form-control euro-input" name="arrivedEuroAmount" type="text" inputmode="decimal" value="0" />
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="d-flex flex-wrap gap-2">
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="arrivedCurrency" id="arrivedCurrencySAR" value="SAR" checked>
                          <label class="form-check-label" for="arrivedCurrencySAR">SAR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="arrivedCurrency" id="arrivedCurrencyEUR" value="EUR">
                          <label class="form-check-label" for="arrivedCurrencyEUR">EUR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="arrivedCurrency" id="arrivedCurrencyUSD" value="USD">
                          <label class="form-check-label" for="arrivedCurrencyUSD">USD</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="arrivedCurrency" id="arrivedCurrencyTRY" value="TRY">
                          <label class="form-check-label" for="arrivedCurrencyTRY">TRY</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù…Ø¹ Ø¥Ø·Ø§Ø± -->
                <div class="border rounded p-3 mb-4 bg-light">
                  <p class="mb-2"><strong>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</strong></p>
                  <div class="row align-items-center">
                    <div class="col-md-8">
                      <input class="form-control mb-3 price-input" name="remainingAmount" type="text" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ" inputmode="decimal" value="0" />
                      <div class="input-group">
                        <span class="input-group-text" style="font-size: 12px; min-width: 100px;">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨Ø§Ù„ÙŠÙˆØ±Ùˆ</span>
                        <input class="form-control euro-input" name="remainingEuroAmount" type="text" inputmode="decimal" value="0" />
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="d-flex flex-wrap gap-2">
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountRemainingCurrency" id="amountRemainingCurrencySAR" value="SAR" checked>
                          <label class="form-check-label" for="amountRemainingCurrencySAR">SAR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountRemainingCurrency" id="amountRemainingCurrencyEUR" value="EUR">
                          <label class="form-check-label" for="amountRemainingCurrencyEUR">EUR</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountRemainingCurrency" id="amountRemainingCurrencyUSD" value="USD">
                          <label class="form-check-label" for="amountRemainingCurrencyUSD">USD</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input currency-radio" type="radio" name="amountRemainingCurrency" id="amountRemainingCurrencyTRY" value="TRY">
                          <label class="form-check-label" for="amountRemainingCurrencyTRY">TRY</label>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­ØµÙŠÙ„ Ø¯Ø§Ø®Ù„ Ø¥Ø·Ø§Ø± Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ -->
                  <div class="mt-3">
                    <p class="mb-2"><strong>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­ØµÙŠÙ„</strong></p>
                    <select class="form-select" name="collectionMethod" id="collectionSelect" required></select>
                  </div>
                </div>

                <!-- Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© ÙˆØ¹Ù…ÙˆÙ„Ø© Ø§Ù„ÙÙ†Ø¯Ù‚ ÙˆÙ†Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ØµÙ -->
                <div class="three-col-row">
                  <div>
                    <p class="mb-2"><strong>Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©</strong></p>
                    <select class="form-select" name="kdv" id="kdvSelect" required>
                      <option value="Ù„Ø§ ÙŠÙˆØ¬Ø¯" selected>Ù„Ø§ ÙŠÙˆØ¬Ø¯</option>
                    </select>
                  </div>
                  <div>
                    <p class="mb-2"><strong>Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„ÙÙ†Ø¯Ù‚</strong></p>
                    <input class="form-control price-input" name="hotelComm" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„ÙÙ†Ø¯Ù‚" inputmode="decimal" value="0" />
                  </div>
                  <div>
                    <p class="mb-2"><strong>Ù†Ø³Ø¨Ø© Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„ÙÙ†Ø¯Ù‚ %</strong></p>
                    <input class="form-control price-input" name="hotelCommPrc" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„ÙÙ†Ø¯Ù‚ %" inputmode="decimal" value="0" />
                  </div>
                </div>

                <p class="mb-2"><strong>Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø²</strong></p>
                <select class="form-select mb-4" name="reservationState" id="reservationSelect" required></select>

                <p class="mb-2"><strong>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</strong></p>
                <textarea class="form-control mb-4" style="font-size: 14px" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù‡Ù†Ø§" name="note"></textarea>
              </div>
            </div>

            <!-- Ù‡Ø¯ÙŠØ© Ø§Ù„ÙˆØ±ÙˆØ¯ ÙƒÙ…Ø±Ø¨Ø¹ Ø§Ø®ØªÙŠØ§Ø± -->
            <div class="row justify-content-center align-items-center py-4">
              <div class="col-12 col-md-8">
                <div class="flower-gift-card" id="flowerGiftCard">
                  <div class="flower-gift-content">
                    <div class="flower-icon-wrapper">
                      <svg class="flower-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg ">
                        <!-- Ø¨ØªÙ„Ø§Øª Ø§Ù„ÙˆØ±Ø¯Ø© -->
                        <path d="M12 3C11 3 10 3.5 9.5 4.5C9 5.5 9.5 6.5 10.5 7C11.5 7.5 12.5 7.5 13.5 7C14.5 6.5 15 5.5 14.5 4.5C14 3.5 13 3 12 3Z" fill="currentColor" opacity="0.9"/>
                        <path d="M8 7C7 7 6 7.5 5.5 8.5C5 9.5 5.5 10.5 6.5 11C7.5 11.5 8.5 11.5 9.5 11C10.5 10.5 11 9.5 10.5 8.5C10 7.5 9 7 8 7Z" fill="currentColor" opacity="0.8"/>
                        <path d="M16 7C15 7 14 7.5 13.5 8.5C13 9.5 13.5 10.5 14.5 11C15.5 11.5 16.5 11.5 17.5 11C18.5 10.5 19 9.5 18.5 8.5C18 7.5 17 7 16 7Z" fill="currentColor" opacity="0.8"/>
                        <path d="M12 9C11 9 10 9.5 9.5 10.5C9 11.5 9.5 12.5 10.5 13C11.5 13.5 12.5 13.5 13.5 13C14.5 12.5 15 11.5 14.5 10.5C14 9.5 13 9 12 9Z" fill="currentColor" opacity="0.85"/>
                        <!-- Ù…Ø±ÙƒØ² Ø§Ù„ÙˆØ±Ø¯Ø© -->
                        <circle cx="12" cy="11" r="2.5" fill="currentColor" opacity="0.7"/>
                        <circle cx="12" cy="11" r="1.5" fill="#FFD700"/>
                        <!-- Ø§Ù„Ø³Ø§Ù‚ -->
                        <rect x="11.5" y="13.5" width="1" height="4.5" fill="#228B22" opacity="0.6" rx="0.5"/>
                        <path d="M11 18L12 19L13 18Z" fill="#228B22" opacity="0.6"/>
                      </svg>
                    </div>
                    <div class="flower-gift-text">
                      <label for="flowerCheckbox" class="flower-label">
                        <input type="checkbox" id="flowerCheckbox" name="freeFlower" value="Ù†Ø¹Ù…" class="flower-checkbox">
                        <span class="flower-checkmark"></span>
                        <span class="flower-title">Ù‡Ø¯ÙŠØ© Ø§Ù„ÙˆØ±ÙˆØ¯</span>
                        <span class="flower-subtitle"></span>
                      </label>
                    </div>
                  </div>
                  <div class="flower-particles" id="flowerParticles"></div>
                </div>
              </div>
            </div>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙˆØ³ÙŠØ· -->
            <div class="row pt-4">
              <div class="col-md-12">
                <h1 class="text-center fw-bold" style="color: rgb(0, 136, 145); font-size: 20px; line-height: 50px;">
                  <strong><span>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙˆØ³ÙŠØ·</span></strong>
                </h1>
              </div>
            </div>
            <div class="row mx-0 px-2 py-3">
              <div class="col-12 col-md-9 mx-auto">
                <div class="row">

                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø§Ø³Ù… Ø§Ù„ÙˆØ³ÙŠØ·</strong></p>
                        <select class="form-select mb-4" name="mediator" id="mediatorSelect"></select>
                    </div>

                    <div class="col-md-6">
                        <p class="mb-2"><strong>Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©</strong></p>
                        <input class="form-control mb-4 price-input" name="commission" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©" inputmode="decimal" value="0" />
                    </div>
              
                </div>
            </div>
            
            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
            <div class="row d-flex justify-content-center" style="margin-right: 0px; margin-left: 0px; padding-top: 24px">
              <div class="col-12">
            <div class="button-row">
              <button class="btn btn-danger btn-lg" id="reset" type="reset">
                Ù…Ø³Ø­
              </button>
              <button class="btn btn-primary btn-lg" id="submit" type="submit">
                Ø­ÙØ¸
              </button>
              <button class="btn btn-success btn-lg" id="submitAndSend" type="button">
                Ø­ÙØ¸ ÙˆØ§Ø±Ø³Ø§Ù„
              </button>
            </div>
              </div>
            </div>
        <input type="hidden" value="<?= url ?>" id="url" />
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª -->
  <div id="oanda_ecc">
    <div id="floatingButtonContainer">
      <button id="toggleWidgetButton">ğŸ’±</button>
      <div id="floatingWidgetPanel">
        <script>
          var fm = "SAR";
          var to = "EUR";
          var tz = "3";
          var sz = "1x1";
          var lg = "ar";
          var st = "success";
          var lr = "1";
          var rd = "0";
        </script>
        <script src="//currencyrate.today/converter"></script>
        <div style="text-align: right">
          <a href="https://currencyrate.today ">Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="loading-spinner">
    <div class="spinner-border text-primary" role="status">
    </div>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js " integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script>
  // ========== Configuration ==========
  const selectList = [
    {
      selectId: "sellerSelect",
      columnName: "SELLERS",
      placeholder: "Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¦Ø¹",
    },
    {
      selectId: "supplierSelect",
      columnName: "HOTEL SUPPLIER",
      placeholder: "Ø§Ù„Ù…Ø²ÙˆØ¯",
    },
    {
      selectId: "nationalitySelect",
      columnName: "NATIONALITY",
      placeholder: "Ø¬Ù†Ø³ÙŠØ© Ø§Ù„Ø¹Ù…ÙŠÙ„",
    },
    {
      selectId: "personSelect",
      columnName: "PERSONS",
      placeholder: "Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø´Ø®Ø§Øµ",
    },
    {
      selectId: "roomSelect",
      columnName: "ROOM TYPE",
      placeholder: "Ù†ÙˆØ¹ Ø§Ù„ØºØ±ÙØ©",
    },
    {
      selectId: "viewSelect",
      columnName: "VIEW TYPE",
      placeholder: "Ø§Ù„Ø§Ø·Ù„Ø§Ù„Ø©",
    },
    {
      selectId: "mealSelect",
      columnName: "MEALS",
      placeholder: "Ù†ÙˆØ¹ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª",
    },
    {
      selectId: "ra3bonSelect",
      columnName: "RA3BON",
      placeholder: "Ø·Ø±ÙŠÙ‚Ø© ØªØ­ØµÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†",
    },
    {selectId: "kdvSelect", columnName: "KDV", placeholder: "Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©" },
    {
      selectId: "reservationSelect",
      columnName: "RESERVATION STATE",
      placeholder: "Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø²",
    },
    {
      selectId: "collectionSelect",
      columnName: "COLLECTION METHOD",
      placeholder: "Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­ØµÙŠÙ„",
    },
    {
      selectId: "mediatorSelect",
      columnName: "MEDIATOR",
      placeholder: "Ø§Ø³Ù… Ø§Ù„ÙˆØ³ÙŠØ·",
    }
  ];
  
  // ========== Global Variables ==========
  let allHotels = [];
  let filteredHotels = [];
  let searchTimeout = null;
  
  // ========== Utility Functions ==========
  
  // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ spinner Ø§Ù„ØªØ­Ù…ÙŠÙ„
  function showLoading(show = true) {
    const spinner = document.getElementById('loadingSpinner');
    if (spinner) {
      if (show) {
        spinner.classList.add('active');
      } else {
        spinner.classList.remove('active');
      }
    }
  }
  
  // Ø¯Ø§Ù„Ø© Ù„ØªØ£Ø®ÙŠØ± Ø§Ù„ØªÙ†ÙÙŠØ° (debounce)
  function debounce(func, wait) {
    return function executedFunction(...args) {
      const later = () => {
        clearTimeout(searchTimeout);
        func(...args);
      };
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(later, wait);
    };
  }
  
  // Ø¯Ø§Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ option element
  function createOption(value, text, selected = false, disabled = false) {
    const option = document.createElement("option");
    option.value = value;
    option.textContent = text;
    if (selected) option.selected = true;
    if (disabled) option.disabled = true;
    return option;
  }
  
  // Ø¯Ø§Ù„Ø© Ù„Ù…Ù„Ø¡ select element Ø¨Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
  function populateSelect(selectElement, options, placeholder, defaultValue = null) {
    const fragment = document.createDocumentFragment();
    
    // Ø¥Ø¶Ø§ÙØ© placeholder
    if (placeholder) {
      fragment.appendChild(createOption("", placeholder, !defaultValue, true));
    }
    
    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
    options.forEach(item => {
      const option = createOption(item, item, defaultValue === item);
      fragment.appendChild(option);
    });
    
    selectElement.innerHTML = "";
    selectElement.appendChild(fragment);
  }
  
  // ========== Widget Functions ==========
  
  function initWidgetToggle() {
    const toggleButton = document.getElementById("toggleWidgetButton");
    const widgetPanel = document.getElementById("floatingWidgetPanel");
    
    if (toggleButton && widgetPanel) {
      toggleButton.addEventListener("click", function () {
        const isHidden = widgetPanel.style.display === "none" || widgetPanel.style.display === "";
        widgetPanel.style.display = isHidden ? "block" : "none";
      });
      
      // Ø¥ØºÙ„Ø§Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
      document.addEventListener("click", function (event) {
        if (
          !widgetPanel.contains(event.target) &&
          !toggleButton.contains(event.target)
        ) {
          widgetPanel.style.display = "none";
        }
      });
    }
  }
  
  // ========== City Functions ==========
  
  function populateCities() {
    showLoading(true);
    google.script.run
      .withSuccessHandler(function (cities) {
        const citySelect = document.getElementById("citySelect");
        if (citySelect && cities) {
          populateSelect(citySelect, cities, "Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©");
        }
        showLoading(false);
      })
      .withFailureHandler(function(error) {
        console.error("Error loading cities:", error);
        showLoading(false);
        Swal.fire({
          title: "Ø®Ø·Ø£",
          text: "ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¯Ù†. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.",
          icon: "error",
          confirmButtonText: "Ø­Ø³Ù†Ø§Ù‹"
        });
      })
      .getCities();
  }

  // ========== Column Functions ==========
  
  async function getColumns() {
    showLoading(true);
    try {
      populateCities();
      generateRoomCount();
      
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Promise.all Ù„ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²ÙŠ
      const columnPromises = selectList.map(
        ({ selectId, columnName, placeholder }) =>
          getColumn(selectId, columnName, placeholder)
      );
      
      await Promise.all(columnPromises);
      showLoading(false);
    } catch (error) {
      console.error("Error loading columns:", error);
      showLoading(false);
    }
  }
  
  function getColumn(selectId, columnName, placeholder) {
    return new Promise((resolve, reject) => {
      google.script.run
        .withSuccessHandler(function (column) {
          const selectElement = document.getElementById(selectId);
          if (selectElement) {
            populateSelect(selectElement, column || [], placeholder);
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ø°Ø§ Ù‡Ùˆ Ø­Ù‚Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† "Ù„Ø§ ÙŠÙˆØ¬Ø¯" Ù‡Ùˆ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            if (selectId === "kdvSelect") {
              const noTaxOption = createOption("Ù„Ø§ ÙŠÙˆØ¬Ø¯", "Ù„Ø§ ÙŠÙˆØ¬Ø¯", true);
              selectElement.insertBefore(noTaxOption, selectElement.firstChild);
            }
          }
          resolve();
        })
        .withFailureHandler(function(error) {
          console.error(`Error loading ${columnName}:`, error);
          resolve(); // Ù†Ø³ØªÙ…Ø± Ø­ØªÙ‰ Ù„Ùˆ ÙØ´Ù„ Ø¹Ù…ÙˆØ¯ ÙˆØ§Ø­Ø¯
        })
        .getColumnByName(columnName);
    });
  }
  
  function clearColumn(selectId, columnName, placeholder) {
    const selectElement = document.getElementById(selectId);
    if (selectElement) {
      populateSelect(selectElement, [], placeholder);
    }
  }
  
  // ========== Hotel Functions ==========
  
  function onCityChange() {
    const citySelect = document.getElementById("citySelect");
    const city = citySelect ? citySelect.value : "";
    
    if (!city) {
      resetHotelDropdown();
      return;
    }
    
    showLoading(true);
    const hotelDropdownItems = document.getElementById("hotelDropdownItems");
    if (hotelDropdownItems) {
      hotelDropdownItems.innerHTML = '<div class="hotel-loading">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>';
    }
    
    google.script.run
      .withSuccessHandler(updateHotelDropdown)
      .withFailureHandler(function(error) {
        console.error("Error loading hotels:", error);
        showLoading(false);
        const hotelDropdownItems = document.getElementById("hotelDropdownItems");
        if (hotelDropdownItems) {
          hotelDropdownItems.innerHTML = '<div class="hotel-loading text-danger">ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙ†Ø§Ø¯Ù‚</div>';
        }
        Swal.fire({
          title: "Ø®Ø·Ø£",
          text: "ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙ†Ø§Ø¯Ù‚. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.",
          icon: "error",
          confirmButtonText: "Ø­Ø³Ù†Ø§Ù‹"
        });
      })
      .getHotelsByCity(city);
  }

  // ========== Room Count Functions ==========
  
  function generateRoomCount() {
    const select = document.getElementById("numberSelect");
    if (!select) return;
    
    const options = Array.from({ length: 30 }, (_, i) => i + 1);
    populateSelect(select, options.map(String), null, "1");
  }
  
  // ========== Hotel Dropdown Functions ==========
  
  function updateHotelDropdown(hotels) {
    showLoading(false);
    allHotels = hotels || [];
    filteredHotels = [...allHotels];
    
    const hotelSelect = document.getElementById("hotelSelect");
    if (!hotelSelect) return;
    
    if (allHotels.length > 0) {
      const options = allHotels.map(hotel => hotel);
      populateSelect(hotelSelect, options, null);
      populateCustomHotelDropdown();
    } else {
      hotelSelect.innerHTML = "";
      hotelSelect.appendChild(createOption("", "Ù‚Ù… Ø¨Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§ÙˆÙ„Ø§", false, true));
      populateCustomHotelDropdown();
    }
  }
  
  function populateCustomHotelDropdown() {
    const dropdownItems = document.getElementById("hotelDropdownItems");
    if (!dropdownItems) return;
    
    dropdownItems.innerHTML = "";
    const fragment = document.createDocumentFragment();
    
    if (filteredHotels.length > 0) {
      filteredHotels.forEach(hotel => {
        const item = document.createElement("a");
        item.className = "dropdown-item";
        item.href = "#";
        item.textContent = hotel;
        item.dataset.value = hotel;
        item.addEventListener("click", function(e) {
          e.preventDefault();
          selectHotel(hotel);
        });
        fragment.appendChild(item);
      });
    } else {
      const item = document.createElement("a");
      item.className = "dropdown-item text-muted";
      item.href = "#";
      item.textContent = "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬";
      item.style.pointerEvents = "none";
      fragment.appendChild(item);
    }
    
    dropdownItems.appendChild(fragment);
  }
  
  function selectHotel(hotel) {
    const hotelSelect = document.getElementById("hotelSelect");
    const hotelSelectedText = document.getElementById("hotelSelectedText");
    const searchInput = document.getElementById("hotelSearchInput");
    
    if (hotelSelect) hotelSelect.value = hotel;
    if (hotelSelectedText) hotelSelectedText.textContent = hotel;
    if (searchInput) {
      searchInput.value = "";
      filteredHotels = [...allHotels];
      populateCustomHotelDropdown();
    }
  }
  
  function resetHotelDropdown() {
    const hotelSelect = document.getElementById("hotelSelect");
    const hotelSelectedText = document.getElementById("hotelSelectedText");
    const searchInput = document.getElementById("hotelSearchInput");
    
    if (hotelSelect) hotelSelect.value = "";
    if (hotelSelectedText) hotelSelectedText.textContent = "Ø§Ø®ØªØ± ÙÙ†Ø¯Ù‚";
    if (searchInput) {
      searchInput.value = "";
      filteredHotels = [];
      allHotels = [];
      populateCustomHotelDropdown();
    }
  }
  
  function initHotelSearch() {
    const searchInput = document.getElementById("hotelSearchInput");
    const dropdownButton = document.getElementById("hotelDropdownButton");
    
    if (!searchInput) return;
    
    // Ø§Ø³ØªØ®Ø¯Ø§Ù… debounce Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
    const debouncedSearch = debounce(function() {
      const searchTerm = searchInput.value.toLowerCase().trim();
      
      if (searchTerm === "") {
        filteredHotels = [...allHotels];
      } else {
        filteredHotels = allHotels.filter(hotel => 
          hotel.toLowerCase().includes(searchTerm)
        );
      }
      
      populateCustomHotelDropdown();
    }, 300);
    
    searchInput.addEventListener("input", debouncedSearch);
    
    if (dropdownButton) {
      dropdownButton.addEventListener("click", function() {
        searchInput.value = "";
        filteredHotels = [...allHotels];
        populateCustomHotelDropdown();
        searchInput.focus();
      });
    }
  }
  
  // ========== Date Validation Functions ==========
  
  function validateDates() {
    const checkInDate = document.getElementById("chekInDate");
    const checkOutDate = document.getElementById("chekOutDate");
    const checkInError = document.getElementById("checkInDateError");
    const checkOutError = document.getElementById("checkOutDateError");
    
    if (!checkInDate || !checkOutDate) return true;
    
    const checkIn = new Date(checkInDate.value);
    const checkOut = new Date(checkOutDate.value);
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    
    let isValid = true;
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„
    if (checkInDate.value && checkIn < today) {
      if (checkInError) {
        checkInError.textContent = "ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„ÙŠÙˆÙ… Ø£Ùˆ Ø¨Ø¹Ø¯Ù‡";
        checkInError.classList.add("show");
        checkInDate.classList.add("date-error");
      }
      isValid = false;
    } else {
      if (checkInError) {
        checkInError.classList.remove("show");
        checkInDate.classList.remove("date-error");
      }
    }
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©
    if (checkOutDate.value && checkInDate.value) {
      if (checkOut <= checkIn) {
        if (checkOutError) {
          checkOutError.textContent = "ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¹Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„";
          checkOutError.classList.add("show");
          checkOutDate.classList.add("date-error");
        }
        isValid = false;
      } else {
        if (checkOutError) {
          checkOutError.classList.remove("show");
          checkOutDate.classList.remove("date-error");
        }
      }
    }
    
    return isValid;
  }
  
  function initDateValidation() {
    const checkInDate = document.getElementById("chekInDate");
    const checkOutDate = document.getElementById("chekOutDate");
    
    if (checkInDate) {
      checkInDate.addEventListener("change", validateDates);
    }
    
    if (checkOutDate) {
      checkOutDate.addEventListener("change", validateDates);
    }
    
    // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªÙˆØ§Ø±ÙŠØ®
    const today = new Date().toISOString().split('T')[0];
    if (checkInDate) checkInDate.setAttribute("min", today);
    if (checkOutDate) checkOutDate.setAttribute("min", today);
  }

  // ========== Currency Functions ==========
  
  function setupCurrencyAutoFill() {
    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…Ù„Ø©
    const currencyRadios = document.querySelectorAll('.currency-radio');
    currencyRadios.forEach(radio => {
      radio.addEventListener('change', function() {
        const parentContainer = this.closest('.border.rounded');
        
        if (parentContainer && this.value === 'EUR') {
          const priceInput = parentContainer.querySelector('.price-input');
          const euroInput = parentContainer.querySelector('.euro-input');
          
          if (priceInput && euroInput && priceInput.value) {
            euroInput.value = priceInput.value;
          }
        }
      });
    });
    
    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    const priceInputs = document.querySelectorAll('.price-input');
    priceInputs.forEach(input => {
      input.addEventListener('input', function() {
        const parentContainer = this.closest('.border.rounded');
        if (parentContainer) {
          const currencyRadio = parentContainer.querySelector('input[type="radio"]:checked');
          const euroInput = parentContainer.querySelector('.euro-input');
          
          if (currencyRadio && currencyRadio.value === 'EUR' && euroInput) {
            euroInput.value = this.value || '0';
          }
        }
      });
    });
  }

  function setDefaultFinancialValues() {
    const priceInputs = document.querySelectorAll('.price-input');
    priceInputs.forEach(input => {
      if (!input.value || input.value.trim() === '') {
        input.value = '0';
      }
    });
    
    const euroInputs = document.querySelectorAll('.euro-input');
    euroInputs.forEach(input => {
      if (!input.value || input.value.trim() === '') {
        input.value = '0';
      }
    });
  }
  
  // ========== Form Reset Functions ==========

  async function clearAllFields() {
    const form = document.getElementById('registration-form');
    if (form) form.reset();
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    const citySelect = document.getElementById('citySelect');
    const numberSelect = document.getElementById('numberSelect');
    const kdvSelect = document.getElementById('kdvSelect');
    const flowerCheckbox = document.getElementById('flowerCheckbox');
    const checkInDate = document.querySelector('input[name="chekInDate"]');
    const checkOutDate = document.querySelector('input[name="chekOutDate"]');
    
    if (citySelect) citySelect.value = '';
    if (numberSelect) numberSelect.value = '1';
    if (kdvSelect) kdvSelect.value = 'Ù„Ø§ ÙŠÙˆØ¬Ø¯';
    if (flowerCheckbox) {
      flowerCheckbox.checked = false;
      // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© ÙƒØ§Ø±Ø¯ Ø§Ù„ÙˆØ±ÙˆØ¯
      const flowerGiftCard = document.getElementById('flowerGiftCard');
      if (flowerGiftCard) {
        flowerGiftCard.classList.remove('active');
      }
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© Ù„Ù„ÙÙ†Ø§Ø¯Ù‚
    resetHotelDropdown();
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø§Ù„ÙŠØ©
    setDefaultFinancialValues();
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ Ù„Ù„Ø¹Ù…Ù„Ø©
    const currencyRadios = document.querySelectorAll('.currency-radio');
    currencyRadios.forEach(radio => {
      radio.checked = (radio.value === 'SAR');
    });
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
    const today = new Date().toISOString().split('T')[0];
    if (checkInDate) {
      checkInDate.value = today;
      checkInDate.dispatchEvent(new Event('change'));
    }
    if (checkOutDate) {
      checkOutDate.value = today;
      checkOutDate.dispatchEvent(new Event('change'));
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£
    const errorMessages = document.querySelectorAll('.error-message');
    errorMessages.forEach(msg => msg.classList.remove('show'));
    
    const dateInputs = document.querySelectorAll('.date-error');
    dateInputs.forEach(input => input.classList.remove('date-error'));
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
    await getColumns();
  }

  // ========== Form Data Preparation Functions ==========
  
  function prepareFormData(action = 'save') {
    const form = document.getElementById("registration-form");
    if (!form) return { data: {}, valuesArray: [] };
    
    const formData = new FormData(form);
    const data = {};
    
    // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„
    formData.forEach((value, key) => {
      data[key] = value || '';
    });
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ÙØ§Ø±ØºØ©
    const allSelects = document.querySelectorAll('select[name]');
    allSelects.forEach(select => {
      if (select.name && (!data[select.name] || data[select.name] === '')) {
        data[select.name] = ' ';
      }
    });
    
    const allInputs = document.querySelectorAll('input[type="text"][name], input[type="date"][name], textarea[name]');
    allInputs.forEach(input => {
      if (input.name && (!data[input.name] || data[input.name] === '')) {
        data[input.name] = '0';
      }
    });
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ
    const allRadios = document.querySelectorAll('input[type="radio"]');
    const radioGroups = new Set();
    allRadios.forEach(radio => {
      radioGroups.add(radio.name);
      if (radio.checked) {
        data[radio.name] = radio.value;
      }
    });
    
    // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ ØºÙŠØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
    radioGroups.forEach(groupName => {
      if (!data[groupName]) {
        data[groupName] = 'SAR'; // Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
      }
    });
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© checkbox Ø§Ù„ÙˆØ±ÙˆØ¯
    const flowerCheckbox = document.getElementById('flowerCheckbox');
    if (flowerCheckbox && !flowerCheckbox.checked) {
      data['freeFlower'] = 'Ù„Ø§';
    }
    
    data.action = action;
    
    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
    const fieldOrder = [
      'seller', 'supplier', 'name', 'phone', 'nationality', 'personCount',
      'city', 'hotel', 'HotelConformation', 'chekInDate', 'chekOutDate', 'roomCount', 'roomType', 
      'viewType', 'meal', 'hotelPrice', 'hotelEuroPrice', 'hotelCurrency', 'sellingPrice', 
      'sellingEuroPrice', 'sellingCurrency', 'kdv', 'hotelComm', 'hotelCommPrc',
      'amountSent', 'amountEuroSent', 'amountSentCurrency', 'ra3bon', 'arrivedAmount', 
      'arrivedEuroAmount', 'arrivedCurrency', 'remainingAmount', 'remainingEuroAmount', 
      'amountRemainingCurrency', 'reservationState', 'collectionMethod', 'note',
      'freeFlower', 'mediator', 'commission'
    ];

    const valuesArray = fieldOrder.map(field => data[field] || '0');
    
    return { data, valuesArray };
  }
  
  // ========== Form Submission Functions ==========
  
  function submitData(action) {
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
    if (!validateDates()) {
      Swal.fire({
        title: "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®",
        text: "ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¯Ø®Ù„Ø©",
        icon: "error",
        confirmButtonText: "Ø­Ø³Ù†Ø§Ù‹"
      });
      return;
    }
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    const form = document.getElementById("registration-form");
    if (!form || !form.checkValidity()) {
      form.reportValidity();
      return;
    }
    
    const { data, valuesArray } = prepareFormData(action);
    
    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù‡Ùˆ Ø­ÙØ¸ ÙˆØ¥Ø±Ø³Ø§Ù„ØŒ Ù†Ø·Ù„Ø¨ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
    if (action === 'saveAndSend') {
      // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø±Ø¨Ø¹ Ø­ÙˆØ§Ø± Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
      Swal.fire({
        title: 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
        html: `
          <div style="text-align: right; direction: rtl;">
            <label for="emailInput" style="display: block; margin-bottom: 10px; font-weight: bold;">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ø¥Ø±Ø³Ø§Ù„:</label>
            <input type="email" id="emailInput" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" style="text-align: right;">
            <label for="emailNote" style="display: block; margin-top: 15px; margin-bottom: 10px; font-weight: bold;">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:</label>
            <textarea id="emailNote" class="form-control" rows="3" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù„Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" style="text-align: right; resize: vertical;"></textarea>
          </div>
        `,
        showCancelButton: true,
        confirmButtonText: 'Ø¥Ø±Ø³Ø§Ù„',
        cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡',
        confirmButtonColor: '#28a745',
        cancelButtonColor: '#6c757d',
        preConfirm: () => {
          const email = document.getElementById('emailInput').value;
          const note = document.getElementById('emailNote').value;
          
          if (!email) {
            Swal.showValidationMessage('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
            return false;
          }
          
          if (!isValidEmail(email)) {
            Swal.showValidationMessage('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­');
            return false;
          }
          
          return { email, note };
        }
      }).then((result) => {
        if (result.isConfirmed) {
          // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          data.emailToSend = result.value.email;
          data.emailNote = result.value.note;
          valuesArray.push(result.value.email, result.value.note);
          
          // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          sendDataToServer(data, valuesArray, action);
        }
      });
    } else {
      // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ø­ÙØ¸
      sendDataToServer(data, valuesArray, action);
    }
  }
  
  function sendDataToServer(data, valuesArray, action) {
    // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
    const submitButton = document.getElementById('submit');
    const submitAndSendButton = document.getElementById('submitAndSend');
    const resetButton = document.getElementById('reset');
    
    if (submitButton) submitButton.disabled = true;
    if (submitAndSendButton) submitAndSendButton.disabled = true;
    if (resetButton) resetButton.disabled = true;
    
    showLoading(true);
    
    google.script.run
      .withSuccessHandler(function (response) {
        showLoading(false);
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        if (submitButton) submitButton.disabled = false;
        if (submitAndSendButton) submitAndSendButton.disabled = false;
        if (resetButton) resetButton.disabled = false;
        
        const successMessage = action === 'saveAndSend' 
          ? "ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­ ÙˆØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"
          : "ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­";
        
        Swal.fire({
          title: "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­",
          text: successMessage,
          icon: "success",
          heightAuto: false,
          showConfirmButton: false,
          timer: 2000,
        }).then(() => {
          window.scrollTo({ top: 0, behavior: "smooth" });
          clearAllFields();
        });
      })
      .withFailureHandler(function(error) {
        showLoading(false);
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        if (submitButton) submitButton.disabled = false;
        if (submitAndSendButton) submitAndSendButton.disabled = false;
        if (resetButton) resetButton.disabled = false;
        
        console.error("Submission error:", error);
        Swal.fire({
          title: "Ø®Ø·Ø£",
          text: "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " + (error.message || error),
          icon: "error",
          confirmButtonText: "Ø­Ø³Ù†Ø§Ù‹"
        });
      })
      .record_data(valuesArray, "<?= userEmail ?>", action);
  }
  
  // ========== Flower Gift Functions ==========
  
  function initFlowerGift() {
    const flowerCheckbox = document.getElementById('flowerCheckbox');
    const flowerGiftCard = document.getElementById('flowerGiftCard');
    const flowerParticles = document.getElementById('flowerParticles');
    
    if (!flowerCheckbox || !flowerGiftCard) return;
    
    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙƒØ§Ø±Ø¯ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± checkbox
    function updateFlowerCardState() {
      if (flowerCheckbox.checked) {
        flowerGiftCard.classList.add('active');
        createFlowerParticles();
      } else {
        flowerGiftCard.classList.remove('active');
        clearFlowerParticles();
      }
    }
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ¯
    function createFlowerParticles() {
      if (!flowerParticles) return;
      
      clearFlowerParticles();
      
      // Ø¥Ù†Ø´Ø§Ø¡ 15 Ø¬Ø²ÙŠØ¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
      for (let i = 0; i < 15; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // Ù…ÙˆØ¶Ø¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
        const startX = Math.random() * 100;
        const delay = Math.random() * 2;
        const duration = 2 + Math.random() * 2;
        
        particle.style.left = startX + '%';
        particle.style.animationDelay = delay + 's';
        particle.style.animationDuration = duration + 's';
        
        // Ø­Ø¬Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ
        const size = 6 + Math.random() * 4;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        
        flowerParticles.appendChild(particle);
      }
    }
    
    // Ù…Ø³Ø­ Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª
    function clearFlowerParticles() {
      if (flowerParticles) {
        flowerParticles.innerHTML = '';
      }
    }
    
    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    flowerCheckbox.addEventListener('change', function() {
      updateFlowerCardState();
    });
    
    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ§Ø±Ø¯
    flowerGiftCard.addEventListener('click', function(e) {
      // ØªØ¬Ù†Ø¨ toggle Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ checkbox Ø£Ùˆ checkmark
      if (e.target === flowerCheckbox || e.target.closest('.flower-checkmark')) {
        return;
      }
      // toggle checkbox Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…ÙƒØ§Ù† Ø¢Ø®Ø± ÙÙŠ Ø§Ù„ÙƒØ§Ø±Ø¯
      e.preventDefault();
      flowerCheckbox.checked = !flowerCheckbox.checked;
      // ØªØ´ØºÙŠÙ„ event change ÙŠØ¯ÙˆÙŠØ§Ù‹
      flowerCheckbox.dispatchEvent(new Event('change'));
    });
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
    updateFlowerCardState();
    
    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± hover Ø¥Ø¶Ø§ÙÙŠ
    flowerGiftCard.addEventListener('mouseenter', function() {
      if (flowerCheckbox.checked) {
        // ØªØ£Ø«ÙŠØ± Ø¥Ø¶Ø§ÙÙŠ Ø¹Ù†Ø¯ hover Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ§Ø±Ø¯ Ø§Ù„Ù…Ø­Ø¯Ø¯
        flowerGiftCard.style.transform = 'translateY(-8px) scale(1.03)';
      }
    });
    
    flowerGiftCard.addEventListener('mouseleave', function() {
      if (flowerCheckbox.checked) {
        flowerGiftCard.style.transform = 'translateY(-5px) scale(1.02)';
      } else {
        flowerGiftCard.style.transform = '';
      }
    });
  }
  
  // ========== Navigation Functions ==========
  
  function navigateTo(pageName) {
    const urlInput = document.getElementById("url");
    if (!urlInput) return;
    
    const url = urlInput.value;
    const link = document.createElement("a");
    link.href = url + "?page=" + pageName;
    link.style.display = "none";
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }
  
  // ========== Utility Functions ==========
  
  function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }
  
  // ========== Initialization ==========
  
  window.onload = async function () {
    try {
      // ØªÙ‡ÙŠØ¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
      initWidgetToggle();
      initHotelSearch();
      initDateValidation();
      setupCurrencyAutoFill();
      setDefaultFinancialValues();
      initFlowerGift();
      
      // ØªØ¹ÙŠÙŠÙ† ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… ÙƒØªØ§Ø±ÙŠØ® Ø§ÙØªØ±Ø§Ø¶ÙŠ
      const today = new Date().toISOString().split('T')[0];
      const checkInDate = document.querySelector('input[name="chekInDate"]');
      const checkOutDate = document.querySelector('input[name="chekOutDate"]');
      
      if (checkInDate) checkInDate.value = today;
      if (checkOutDate) checkOutDate.value = today;
      
      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      await getColumns();
      
      // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
      const form = document.getElementById("registration-form");
      const submitAndSendButton = document.getElementById('submitAndSend');
      const resetButton = document.getElementById('reset');
      
      if (form) {
        form.addEventListener("submit", function(event) {
          event.preventDefault();
          submitData('save');
        });
      }
      
      if (submitAndSendButton) {
        submitAndSendButton.addEventListener('click', function(e) {
          e.preventDefault();
          submitData('saveAndSend');
        });
      }
      
      if (resetButton) {
        resetButton.addEventListener('click', async function(e) {
          e.preventDefault();
          const result = await Swal.fire({
            title: "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ",
            text: "Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©",
            icon: "warning",
            showCancelButton: true,
            confirmButtonText: "Ù†Ø¹Ù…ØŒ Ù…Ø³Ø­",
            cancelButtonText: "Ø¥Ù„ØºØ§Ø¡",
            confirmButtonColor: "#dc3545"
          });
          
          if (result.isConfirmed) {
            await clearAllFields();
          }
        });
      }
      
      console.log("Application initialized successfully");
    } catch (error) {
      console.error("Initialization error:", error);
      showLoading(false);
      Swal.fire({
        title: "Ø®Ø·Ø£",
        text: "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚",
        icon: "error",
        confirmButtonText: "Ø­Ø³Ù†Ø§Ù‹"
      });
    }
  }; 
</script>

</html>
