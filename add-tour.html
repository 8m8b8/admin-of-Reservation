<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <title>Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</title>
  <base target="_top">
  <? var appUrl = getUrl(); var url = appUrl; ?>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <?!= include("29lt_bukrabold"); ?>

  <style>
    :root {
      --primary-color: #008891;
      --primary-dark: #006d75;
      --primary-light: #00a0a9;
      --text-dark: #2c3f3f;
      --bg-light: #f8f9fa;
      --shadow-medium: 0 10px 35px rgba(0, 0, 0, 0.08);
      --nav-primary: #008891;
      --nav-primary-dark: #006d75;
      --nav-shadow: 0 25px 45px rgba(0, 0, 0, 0.12);
    }

    body {
      font-family: 'Cairo', sans-serif;
      background-color: #f4f6f8;
      color: var(--text-dark);
      margin: 0;
      padding: 0;
    }

    .ghada-hero {
      position: relative;
      width: 100%;
      background: linear-gradient(135deg, var(--nav-primary), var(--nav-primary-dark));
      color: #fff;
      padding: 32px clamp(16px, 6vw, 80px) 28px;
      overflow: hidden;
      box-shadow: var(--nav-shadow);
      border-bottom-left-radius: 32px;
      border-bottom-right-radius: 32px;
    }

    .ghada-hero::before,
    .ghada-hero::after {
      content: '';
      position: absolute;
      border-radius: 50%;
      background: #fff;
      opacity: 0.12;
      filter: blur(0.5px);
      pointer-events: none;
    }

    .ghada-hero::before {
      width: 320px;
      height: 320px;
      top: -160px;
      left: -60px;
    }

    .ghada-hero::after {
      width: 220px;
      height: 220px;
      bottom: -120px;
      right: -30px;
    }

    .ghada-hero-content {
      position: relative;
      z-index: 1;
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      align-items: center;
      justify-content: space-between;
    }

    .ghada-hero-emoji {
      font-size: 2.5rem;
      background: rgba(255, 255, 255, 0.16);
      border-radius: 24px;
      padding: 14px 20px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
    }

    .ghada-hero-text {
      max-width: 640px;
      color: #fff;
    }

    .ghada-hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.25);
      border-radius: 999px;
      padding: 6px 16px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .ghada-hero-title {
      margin: 0;
      font-size: clamp(1.6rem, 3vw, 2.4rem);
      font-weight: 800;
      letter-spacing: -0.5px;
    }

    .ghada-hero-subtitle {
      margin: 8px 0 0;
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.85);
      line-height: 1.6;
    }

    .ghada-nav {
      position: relative;
      z-index: 1;
      margin-top: 26px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
      background: rgba(255, 255, 255, 0.12);
      border-radius: 20px;
      padding: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(16px);
    }

    .ghada-nav-item {
      border: none;
      background: rgba(255, 255, 255, 0.18);
      color: #fff;
      padding: 12px 18px;
      border-radius: 16px;
      min-width: 140px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      font-weight: 600;
      transition: transform 0.2s ease, background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
    }

    .ghada-nav-item .emoji {
      font-size: 1.6rem;
      line-height: 1;
    }

    .ghada-nav-item .label {
      font-size: 0.95rem;
    }

    .ghada-nav-item:hover {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, 0.3);
    }

    .ghada-nav-item.active {
      background: #fff;
      color: var(--nav-primary);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
    }

    .ghada-nav-item:focus-visible {
      outline: 2px solid #fff;
      outline-offset: 3px;
    }

    @media (max-width: 768px) {
      .ghada-hero {
        border-bottom-left-radius: 24px;
        border-bottom-right-radius: 24px;
        padding: 28px 16px 20px;
      }

      .ghada-hero-content {
        flex-direction: column;
        align-items: flex-start;
      }

      .ghada-nav-item {
        flex: 1 1 calc(50% - 8px);
        min-width: 120px;
      }
    }

    @media (max-width: 480px) {
      .ghada-nav-item {
        flex: 1 1 100%;
        align-items: flex-start;
      }
    }

    .info-card,
    .tour-card {
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      box-shadow: var(--shadow-medium);
    }

    .info-card {
      border-top: 6px solid var(--primary-color);
    }

    .tour-card {
      border-top: 6px solid var(--primary-color);
    }

    .info-card h3 {
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 16px;
    }

    .info-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      border-radius: 20px;
      background: rgba(0, 136, 145, 0.12);
      color: var(--primary-dark);
      font-weight: 600;
      margin-bottom: 14px;
    }

    .info-list {
      padding-right: 18px;
      margin-bottom: 0;
      color: #4c5c63;
      line-height: 1.8;
    }

    .section-block + .section-block {
      margin-top: 28px;
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.05rem;
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 16px;
    }

    .form-label {
      font-weight: 600;
      color: var(--primary-dark);
    }

    .form-control,
    .form-select,
    textarea {
      border-radius: 12px;
      border: 1px solid #d9e2ec;
      padding: 12px;
    }

    .form-control:focus,
    .form-select:focus,
    textarea:focus {
      border-color: var(--primary-color);
      box-shadow: none;
    }

    .route-card {
      background: #f9fbfb;
      border: 1px solid #e1ecec;
      border-radius: 18px;
      padding: 18px;
    }

    .route-card h5 {
      font-size: 1rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .submit-btn {
      background: linear-gradient(135deg, #008891, #00a0a9);
      border: none;
      border-radius: 12px;
      padding: 14px;
      font-size: 1.05rem;
      font-weight: 700;
      color: #fff;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .submit-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 136, 145, 0.3);
    }

    .reset-btn {
      border-radius: 12px;
      padding: 14px;
      font-weight: 600;
      border: 1px solid #d9e2ec;
      background: #fff;
      color: #4c5c63;
      transition: 0.2s ease;
    }

    .reset-btn:hover {
      border-color: var(--primary-color);
      color: var(--primary-color);
    }

    textarea {
      resize: none;
    }
  </style>
</head>
<body data-page="add-tour">
  <? var headerAppUrl = typeof appUrl !== 'undefined' ? appUrl : getUrl(); ?>
  <header class="ghada-hero" dir="rtl">
    <div class="ghada-hero-content">
      <span class="ghada-hero-emoji" aria-hidden="true">ğŸ§­</span>
      <div class="ghada-hero-text">
        <span class="ghada-hero-badge">ğŸš ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø±Ø­Ù„Ø§Øª</span>
        <h1 class="ghada-hero-title">Ø®Ø·Ø· Ù„Ù…Ø³Ø§Ø±Ø§ØªÙƒ ÙˆØ§Ø¬Ù…Ø¹ ÙƒÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯</h1>
        <p class="ghada-hero-subtitle">
          Ù†Ø³Ù‘Ù‚ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„Ù…Ø¯Ù† Ø¨Ø³Ù‡ÙˆÙ„Ø©ØŒ Ù…Ø¹ Ø´Ø±ÙŠØ· ØªÙ†Ù‚Ù„ ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ù…Ø¨Ø§Ø´Ø±Ø©.
        </p>
      </div>
    </div>
  <nav class="ghada-nav" id="ghada-nav-bar" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©">
    <button class="ghada-nav-item" data-page="index" type="button">
      <span class="emoji" aria-hidden="true">ğŸ“</span>
      <span class="label">Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø²</span>
    </button>
    <button class="ghada-nav-item" data-page="Add-client" type="button">
      <span class="emoji" aria-hidden="true">ğŸ‘¤</span>
      <span class="label">Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</span>
    </button>
    <button class="ghada-nav-item" data-page="add-tour" type="button">
      <span class="emoji" aria-hidden="true">ğŸ§­</span>
      <span class="label">Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø©</span>
    </button>
    <button class="ghada-nav-item" data-page="add-hotel" type="button">
      <span class="emoji" aria-hidden="true">ğŸ¨</span>
      <span class="label">Ø¥Ø¶Ø§ÙØ© ÙÙ†Ø¯Ù‚</span>
    </button>
    <button class="ghada-nav-item" data-page="manage-reservations" type="button">
      <span class="emoji" aria-hidden="true">ğŸ“‚</span>
      <span class="label">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</span>
    </button>
    <button class="ghada-nav-item" data-page="SUPPLIER" type="button">
      <span class="emoji" aria-hidden="true">ğŸ¤</span>
      <span class="label">Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</span>
    </button>
    <button class="ghada-nav-item" data-page="manage-statistics" type="button">
      <span class="emoji" aria-hidden="true">ğŸ“Š</span>
      <span class="label">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</span>
    </button>
    <button class="ghada-nav-item" data-page="mediator" type="button">
      <span class="emoji" aria-hidden="true">ğŸ•´ï¸</span>
      <span class="label">Ø§Ù„ÙˆØ³Ø·Ø§Ø¡</span>
    </button>
    <button class="ghada-nav-item" data-page="payments" type="button">
      <span class="emoji" aria-hidden="true">ğŸ’³</span>
      <span class="label">Ø§Ù„Ø¯ÙØ¹Ø§Øª</span>
    </button>
  </nav>
  </header>
  <script>
    (function () {
      const navBar = document.getElementById('ghada-nav-bar');
      if (!navBar) {
        return;
      }
      const rawBaseUrl = '<?= headerAppUrl ?>';
      const baseUrl = rawBaseUrl && rawBaseUrl !== 'undefined'
        ? rawBaseUrl
        : (function () {
            try {
              return window.top.location.href.split('?')[0];
            } catch (error) {
              return '';
            }
          })();
      const currentPage = document.body.dataset.page || 'index';
      navBar.querySelectorAll('.ghada-nav-item').forEach((button) => {
        const targetPage = button.dataset.page;
        if (targetPage === currentPage) {
          button.classList.add('active');
          button.setAttribute('aria-current', 'page');
        }
        button.addEventListener('click', () => {
          if (!targetPage || !baseUrl || targetPage === currentPage) {
            return;
          }
          const targetUrl = targetPage === 'index'
            ? baseUrl
            : `${baseUrl}?page=${targetPage}`;
          window.top.location.href = targetUrl;
        });
      });
    })();
  </script>

  <div class="container my-4">
    <div class="row g-4">
      <div class="col-lg-4 order-2 order-lg-1">
        <div class="info-card h-100">
          <div class="info-pill">
            <i class="fas fa-route"></i>
            Ø¥Ø¯Ø§Ø±Ø© Ø³Ø±ÙŠØ¹Ø© Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø§Øª
          </div>
          <h3>Ø¬Ù‡Ù‘Ø² Ø±Ø­Ù„Ø© ÙƒØ§Ù…Ù„Ø© ÙÙŠ Ø¯Ù‚Ø§Ø¦Ù‚</h3>
          <p>Ø§Ø¯Ù…Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ØŒ Ø§Ù„Ù…Ø³Ø§Ø±ØŒ ÙˆØ§Ù„ØªÙƒØ§Ù„ÙŠÙ ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ø­Ø¯ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ§Ù„Ù…ÙˆØ§ÙÙ‚Ø©.</p>
          <ul class="info-list">
            <li>ØªØ£ÙƒØ¯ Ù…Ù† ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ© ( * ).</li>
            <li>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯Ù† ÙˆØ§Ù„Ø¬Ù‡Ø§Øª Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ù„Ø¶Ù…Ø§Ù† Ø¯Ù‚Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª.</li>
            <li>Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„ÙØ±ÙŠÙ‚ Ø¹Ù„Ù‰ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªÙ†ÙÙŠØ°.</li>
          </ul>
          <hr>
          <p class="mb-0" style="font-size: 0.95rem; color:#7a8b93;">ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§Ø­Ù‚Ø§Ù‹ Ù…Ù† Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª.</p>
        </div>
      </div>
      <div class="col-lg-8 order-1 order-lg-2">
        <form id="registration-form" class="tour-card">
          <div class="section-block">
            <div class="section-title">
              <i class="fas fa-store"></i>
              <span>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø§Ø¦Ø¹ ÙˆØ§Ù„Ù…ÙˆØ±Ø¯</span>
            </div>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label" for="sellerSelect">Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¦Ø¹ *</label>
                <select class="form-select" name="seller" id="sellerSelect" required></select>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="supplierSelect">Ø§Ù„Ù…ÙˆØ±Ø¯ *</label>
                <select class="form-select" name="supplier" id="supplierSelect" required></select>
              </div>
            </div>
          </div>

          <div class="section-block">
            <div class="section-title">
              <i class="fas fa-user"></i>
              <span>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</span>
            </div>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label" for="customerNameInput">Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ *</label>
                <input class="form-control" type="text" id="customerNameInput" name="name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" required>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="customerPhoneInput">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ *</label>
                <input class="form-control" type="tel" id="customerPhoneInput" name="phone" pattern="^\+?[0-9]{10,15}$" placeholder="Ù…Ø«Ø§Ù„: +9665xxxxxxx" required>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="nationalitySelect">Ø§Ù„Ø¬Ù†Ø³ÙŠØ© *</label>
                <select class="form-select" name="nationality" id="nationalitySelect" required></select>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="personSelect">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ *</label>
                <select class="form-select" name="personCount" id="personSelect" required></select>
              </div>
            </div>
          </div>

          <div class="section-block">
            <div class="section-title">
              <i class="fas fa-map-marked-alt"></i>
              <span>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø±Ø­Ù„Ø©</span>
            </div>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label" for="tourSelect">Ù†ÙˆØ¹ Ø§Ù„Ø±Ø­Ù„Ø© *</label>
                <select class="form-select" name="tour" id="tourSelect" required></select>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="transportInput">ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ù†Ù‚Ù„</label>
                <input class="form-control" type="text" id="transportInput" name="transport" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø§ØµØŒ Ø³ÙŠØ§Ø±Ø© Ø®Ø§ØµØ©">
              </div>
              <div class="col-md-6">
                <label class="form-label" for="driverNameInput">Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ø¦Ù‚</label>
                <input class="form-control" type="text" id="driverNameInput" name="driverName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ø¦Ù‚">
              </div>
            </div>
          </div>

          <div class="section-block">
            <div class="section-title">
              <i class="fas fa-arrows-alt-h"></i>
              <span>Ù…Ø³Ø§Ø± Ø§Ù„Ø±Ø­Ù„Ø©</span>
            </div>
            <div class="row g-3">
              <div class="col-md-6">
                <div class="route-card">
                  <h5><i class="fas fa-sign-out-alt"></i>Ù…Ù†</h5>
                  <div class="mb-3">
                    <label class="form-label" for="fromCitySelect">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *</label>
                    <select class="form-select" name="fromCity" id="fromCitySelect" required></select>
                  </div>
                  <div class="mb-3">
                    <label class="form-label" for="fromPlaceSelect">Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØ§Ù† *</label>
                    <select class="form-select" name="fromPlace" id="fromPlaceSelect" required></select>
                  </div>
                  <div class="mb-3">
                    <label class="form-label" for="fromPlaceNameInput">Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØ§Ù†</label>
                    <input class="form-control" type="text" id="fromPlaceNameInput" name="fromPlaceName" placeholder="Ù…Ø«Ø§Ù„: ÙÙ†Ø¯Ù‚ Ø§Ù„Ø±ÙŠØ§Ù†">
                  </div>
                  <div>
                    <label class="form-label" for="pickupDate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø·Ù„Ø§Ù‚ *</label>
                    <input class="form-control" type="date" name="pickupDate" id="pickupDate" required>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="route-card">
                  <h5><i class="fas fa-sign-in-alt"></i>Ø¥Ù„Ù‰</h5>
                  <div class="mb-3">
                    <label class="form-label" for="toCitySelect">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *</label>
                    <select class="form-select" name="toCity" id="toCitySelect" required></select>
                  </div>
                  <div class="mb-3">
                    <label class="form-label" for="toPlaceSelect">Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØ§Ù† *</label>
                    <select class="form-select" name="toPlace" id="toPlaceSelect" required></select>
                  </div>
                  <div class="mb-3">
                    <label class="form-label" for="toPlaceNameInput">Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØ§Ù†</label>
                    <input class="form-control" type="text" id="toPlaceNameInput" name="toPlaceName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø·Ø§Ø± Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„">
                  </div>
                  <div>
                    <label class="form-label" for="dropoffDate">ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ *</label>
                    <input class="form-control" type="date" name="dropoffDate" id="dropoffDate" required>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="section-block">
            <div class="section-title">
              <i class="fas fa-wallet"></i>
              <span>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©</span>
            </div>
            <div class="row g-3">
              <div class="col-md-4">
                <label class="form-label" for="tourPriceInput">ØªÙƒÙ„ÙØ© Ø§Ù„Ø±Ø­Ù„Ø© *</label>
                <input class="form-control" type="number" step="0.01" id="tourPriceInput" name="tourPrice" placeholder="0.00" required>
              </div>
              <div class="col-md-4">
                <label class="form-label" for="sellingPriceInput">Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ *</label>
                <input class="form-control" type="number" step="0.01" id="sellingPriceInput" name="sellingPrice" placeholder="0.00" required>
              </div>
              <div class="col-md-4">
                <label class="form-label" for="receivedAmountInput">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªÙ„Ù… *</label>
                <input class="form-control" type="number" step="0.01" id="receivedAmountInput" name="receivedAmount" placeholder="0.00" required>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="collectionSelect">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­ØµÙŠÙ„ *</label>
                <select class="form-select" name="collectionMethod" id="collectionSelect" required></select>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="currencySelect">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„Ø© *</label>
                <select class="form-select" name="currencyType" id="currencySelect" required></select>
              </div>
            </div>
          </div>

          <div class="section-block">
            <div class="section-title">
              <i class="fas fa-sticky-note"></i>
              <span>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</span>
            </div>
            <textarea class="form-control" name="note" rows="4" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„"></textarea>
          </div>

          <div class="d-flex flex-column flex-md-row gap-3 mt-4">
            <button class="reset-btn flex-fill" type="reset">ØªÙØ±ÙŠØº Ø§Ù„Ø­Ù‚ÙˆÙ„</button>
            <button class="submit-btn flex-fill" id="submit" type="submit">Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø©</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <input type="hidden" value="<?= url ?>" id="url" />

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script>
    function populateCities(selectName) {
      google.script.run.withSuccessHandler(function (cities) {
        const citySelect = document.getElementById(selectName);
        citySelect.innerHTML = '';

        const placeholderOption = document.createElement('option');
        placeholderOption.value = '';
        placeholderOption.textContent = 'Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©';
        placeholderOption.disabled = true;
        placeholderOption.selected = true;
        citySelect.appendChild(placeholderOption);

        cities.forEach(function (city) {
          const option = document.createElement('option');
          option.value = city;
          option.textContent = city;
          citySelect.appendChild(option);
        });
      }).getCities();
    }

    function getColumns() {
      const selectList = [
        { selectId: 'sellerSelect', columnName: 'SELLERS', placeholder: 'Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¦Ø¹' },
        { selectId: 'supplierSelect', columnName: 'TOUR SUPPLIER', placeholder: 'Ø§Ù„Ù…ÙˆØ±Ø¯' },
        { selectId: 'nationalitySelect', columnName: 'NATIONALITY', placeholder: 'Ø¬Ù†Ø³ÙŠØ© Ø§Ù„Ø¹Ù…ÙŠÙ„' },
        { selectId: 'personSelect', columnName: 'PERSONS', placeholder: 'Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ' },
        { selectId: 'tourSelect', columnName: 'TOUR TYPE', placeholder: 'Ù†ÙˆØ¹ Ø§Ù„Ø±Ø­Ù„Ø©' },
        { selectId: 'fromPlaceSelect', columnName: 'PLACE TYPE', placeholder: 'Ù†Ù‚Ø·Ø© Ø§Ù„Ø§Ù†Ø·Ù„Ø§Ù‚' },
        { selectId: 'toPlaceSelect', columnName: 'PLACE TYPE', placeholder: 'Ø§Ù„ÙˆØ¬Ù‡Ø©' },
        { selectId: 'currencySelect', columnName: 'CURRENCY TYPE', placeholder: 'Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„Ø©' },
        { selectId: 'collectionSelect', columnName: 'COLLECTION METHOD', placeholder: 'Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­ØµÙŠÙ„' },
      ];
      populateCities('fromCitySelect');
      populateCities('toCitySelect');

      selectList.forEach(({ selectId, columnName, placeholder }) =>
        getColumn(selectId, columnName, placeholder)
      );
    }

    function getColumn(selectId, columnName, placeholder) {
      google.script.run.withSuccessHandler(function (column) {
        const selectElement = document.getElementById(selectId);
        selectElement.innerHTML = '';

        const placeholderOption = document.createElement('option');
        placeholderOption.value = '';
        placeholderOption.textContent = placeholder;
        placeholderOption.disabled = true;
        placeholderOption.selected = true;
        selectElement.appendChild(placeholderOption);

        column.forEach(function (item) {
          const option = document.createElement('option');
          option.value = item;
          option.textContent = item;
          selectElement.appendChild(option);
        });
      }).getColumnByName(columnName);
    }

    window.onload = function () {
      getColumns();
    };

    document.getElementById('registration-form').addEventListener('submit', submitData);

    function submitData(event) {
      event.preventDefault();
      const formData = new FormData(document.getElementById('registration-form'));
      const data = {};
      formData.forEach((value, key) => {
        data[key] = value;
      });

      const valuesArray = Object.values(data);

      google.script.run.withSuccessHandler(function () {
        Swal.fire({
          title: 'ØªÙ… Ø§Ù„Ø­ÙØ¸',
          text: 'ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø­Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­.',
          icon: 'success',
          heightAuto: false,
          showConfirmButton: false,
          timer: 1500,
        });
        setTimeout(() => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }, 2000);
        document.getElementById('registration-form').reset();
        getColumns();
      }).addTour(valuesArray);
    }
  </script>
</body>
</html>
